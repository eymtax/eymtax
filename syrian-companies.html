<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>دليل شركات سوريا الشامل - Eymta X</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; background-color: #f9f9f9; color: #333; margin: 0; padding: 0; display: flex; }
    aside { width: 220px; background: #fff; padding: 20px; border-left: 1px solid #ddd; }
    main { flex: 1; padding: 20px; }

    header { background: #111; color: white; padding: 10px; text-align: center; }
    .ad { width: 100%; max-width: 728px; height: 90px; margin: 10px auto; display: block; border-radius: 6px; }
    .search-section { text-align: center; margin: 20px 0; }
    select, input[type="text"] { padding: 10px; margin: 5px; width: 45%; max-width: 200px; }

    .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
    .company { background: white; width: 280px; padding: 15px; border-radius: 12px;
               box-shadow: 0 0 10px rgba(0,0,0,0.1); text-align: right; position: relative; }
    .vip { border: 2px solid gold; background-color: #fffbe6; }
    .vip::before {
      content: "شركة مميزة";
      position: absolute;
      top: -10px;
      left: -10px;
      background-color: gold;
      color: #111;
      padding: 5px 10px;
      border-radius: 0 0 10px 0;
      font-size: 14px;
    }
    .company img { width: 100%; height: 150px; object-fit: cover; border-radius: 8px; }
    .stars { color: #ccc; cursor: pointer; }
    .stars span.selected { color: gold; }
    .rating-count { font-size: 12px; color: #555; }
    footer { background-color: #222; color: white; text-align: center; padding: 20px; margin-top: 40px; }
    .back-btn { display: block; text-align: center; margin: 20px auto; text-decoration: none; padding: 10px 20px;
                background: #0077cc; color: white; border-radius: 8px; width: fit-content; }
  </style>
</head>
<body>

<aside>
  <h3>اختر نوع النشاط التجاري</h3>
  <ul>
    <li><a href="#" onclick="filterCategory('مطاعم')">مطاعم / كافيهات</a></li>
    <li><a href="#" onclick="filterCategory('شحن')">شحن / نقل</a></li>
    <li><a href="#" onclick="filterCategory('تصوير')">تصوير / تسويق</a></li>
    <li><a href="#" onclick="filterCategory('تصنيع')">تصنيع / ورشات</a></li>
    <li><a href="#" onclick="filterCategory('تجارة')">تجارة عامة</a></li>
    <li><a href="#" onclick="filterCategory('طبية')">خدمات طبية</a></li>
    <li><a href="#" onclick="filterCategory('تعليم')">تعليم / تدريب</a></li>
    <li><a href="#" onclick="filterCategory('برمجة')">تكنولوجيا / برمجة</a></li>
    <li><a href="#" onclick="filterCategory('أعمال')">أعمال يدوية</a></li>
  </ul>
</aside>

<main>
  <header>
    <h1>دليل شركات سوريا الشامل</h1>
  </header>

  <img src="ad-banner.png" class="ad">
  <img src="ad-banner.png" class="ad">
  <img src="ad-banner.png" class="ad">

  <div class="search-section">
    <input type="text" id="searchInput" placeholder="ابحث بالاسم...">
    <select id="categoryFilter">
      <option value="all">كل التخصصات</option>
      <option value="تصوير">تصوير</option>
      <option value="تسويق">تسويق</option>
      <option value="طباعة">طباعة</option>
    </select>
    <select id="cityFilter">
      <option value="all">كل المدن</option>
      <option value="حماة">حماة</option>
      <option value="دمشق">دمشق</option>
      <option value="اللاذقية">اللاذقية</option>
    </select>
  </div>

  <div class="container" id="companyContainer">

    <div class="company vip" data-category="طباعة" data-city="حماة" data-name="شركة النور للطباعة">
      <img src="https://via.placeholder.com/280x150?text=نور+للطباعة">
      <h3>شركة النور للطباعة</h3>
      <p>متخصصة في طباعة البروشورات والفلايرات وبطاقات العمل.</p>
      <p>📞 0999999999 | 📍 حماة</p>
      <div class="stars" data-name="شركة النور للطباعة"></div>
      <div class="rating-count" id="count-شركة النور للطباعة">0 تقييم</div>
    </div>

    <div class="company" data-category="تسويق" data-city="دمشق" data-name="مركز البيان للتسويق">
      <img src="https://via.placeholder.com/280x150?text=البيان+للتسويق">
      <h3>مركز البيان للتسويق</h3>
      <p>خبراء في التسويق الإلكتروني والإعلانات الممولة.</p>
      <p>📞 0933333333 | 📍 دمشق</p>
      <div class="stars" data-name="مركز البيان للتسويق"></div>
      <div class="rating-count" id="count-مركز البيان للتسويق">0 تقييم</div>
    </div>

    <div class="company" data-category="تصوير" data-city="اللاذقية" data-name="فوتوغرافيا ستوديو">
      <img src="https://via.placeholder.com/280x150?text=فوتوغرافيا+ستوديو">
      <h3>فوتوغرافيا ستوديو</h3>
      <p>تصوير احترافي للمنتجات والمناسبات.</p>
      <p>📞 0911111111 | 📍 اللاذقية</p>
      <div class="stars" data-name="فوتوغرافيا ستوديو"></div>
      <div class="rating-count" id="count-فوتوغرافيا ستوديو">0 تقييم</div>
    </div>

  </div>

  <a href="index.html" class="back-btn">🔙 العودة إلى الصفحة الرئيسية</a>

  <footer>
    <p>Eymta X – نرفع أعمالك إلى مستوى جديد</p>
  </footer>
</main>

<script>
function filterCategory(cat) {
  const cards = document.querySelectorAll('.company');
  cards.forEach(card => {
    card.style.display = (card.dataset.category.includes(cat)) ? 'block' : 'none';
  });
}

document.getElementById("searchInput").addEventListener("input", function () {
  const q = this.value.toLowerCase();
  document.querySelectorAll('.company').forEach(card => {
    const name = card.dataset.name.toLowerCase();
    card.style.display = name.includes(q) ? 'block' : 'none';
  });
});

document.getElementById("categoryFilter").addEventListener("change", filterAll);
document.getElementById("cityFilter").addEventListener("change", filterAll);

function filterAll() {
  const cat = document.getElementById("categoryFilter").value;
  const city = document.getElementById("cityFilter").value;
  document.querySelectorAll('.company').forEach(card => {
    const matchCat = (cat === "all" || card.dataset.category === cat);
    const matchCity = (city === "all" || card.dataset.city === city);
    card.style.display = (matchCat && matchCity) ? 'block' : 'none';
  });
}

function createStars(container, name) {
  const saved = localStorage.getItem('rate_' + name);
  const countKey = 'count_' + name;
  const count = localStorage.getItem(countKey) || 0;
  const wrap = container;
  for (let i = 1; i <= 5; i++) {
    const s = document.createElement("span");
    s.textContent = "★";
    s.classList.add("star");
    if (saved && i <= saved) s.classList.add("selected");
    s.onclick = () => {
      if (!saved) {
        localStorage.setItem('rate_' + name, i);
        localStorage.setItem(countKey, +count + 1);
        document.getElementById('count-' + name).textContent = (+count + 1) + " تقييم";
        [...wrap.children].forEach((star, idx) => {
          star.classList.toggle("selected", idx < i);
        });
        alert("شكراً لتقييمك!");
      } else {
        alert("لقد قمت بالتقييم سابقاً.");
      }
    };
    wrap.appendChild(s);
  }
  document.getElementById('count-' + name).textContent = count + " تقييم";
}

document.querySelectorAll('.stars').forEach(div => {
  const name = div.dataset.name;
  createStars(div, name);
});
</script>

</body>
</html>
