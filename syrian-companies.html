<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<title>Ø¯Ù„ÙŠÙ„ Ø´Ø±ÙƒØ§Øª Ø³ÙˆØ±ÙŠØ§ Ø§Ù„Ø´Ø§Ù…Ù„ - Eymta X</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
    body { 
      font-family: 'Cairo', Tahoma, Arial, sans-serif; 
      background-color: #f5f7fa; 
      color: #222; 
      margin: 0; 
      padding: 0; 
      line-height: 1.7;
    }
    header { 
      background-color: #111; 
      color: white; 
      padding: 18px 0 10px 0; 
      text-align: center; 
      box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    }
    header h1 { 
      margin: 0; 
      font-size: 2rem;
      letter-spacing: 2px;
    }
    .search { 
      padding: 14px; 
      width: 100%; 
      max-width: 500px; 
      margin: 18px auto 0 auto; 
      display: block;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 1.1rem;
      background: #fff;
      box-shadow: 0 1px 6px rgba(0,119,204,0.04);
    }
    .main-content {
      display: flex;
      flex-direction: row-reverse;
      gap: 30px;
      padding: 30px 20px 0 20px;
      max-width: 1400px;
      margin: 0 auto;
      min-height: 700px;
    }
    .sidebar {
      width: 270px;
      background: #fff;
      padding: 20px 18px;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,119,204,0.07);
      height: fit-content;
      position: sticky;
      top: 30px;
      min-width: 220px;
      align-self: flex-start;
    }
    .category-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .main-category {
      margin-bottom: 14px;
      font-weight: bold;
      color: #0077cc;
      cursor: pointer;
      padding: 10px 8px;
      border-radius: 8px;
      transition: background-color 0.3s;
      font-size: 1.1rem;
    }
    .main-category:hover, .main-category.active {
      background-color: #f0f7ff;
    }
    .sub-categories {
      list-style: none;
      padding-right: 18px;
      margin: 5px 0 12px 0;
      display: none;
    }
    .sub-categories li {
      margin: 8px 0;
      cursor: pointer;
      color: #555;
      transition: color 0.3s, background 0.3s;
      padding: 7px 10px;
      border-radius: 6px;
      font-size: 1rem;
    }
    .sub-categories li:hover {
      color: #0077cc;
      background-color: #f0f7ff;
    }
    .content-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }
    .filter-bar {
      background: #fff;
      padding: 18px 20px;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,119,204,0.07);
      margin: 0 0 18px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      align-items: center;
      justify-content: flex-start;
    }
    .filter-group {
      display: flex;
      align-items: center;
      gap: 7px;
      font-size: 1.05rem;
    }
    .filter-group select {
      padding: 9px 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #f8f9fa;
      font-size: 1rem;
    }
    .slider-container {
      width: 100%;
      max-width: 900px;
      margin: 0 auto 18px auto;
      position: relative;
    }
    .slider {
      display: flex;
      overflow: hidden;
      border-radius: 14px;
      box-shadow: 0 2px 16px rgba(0,119,204,0.07);
      background: #fff;
      min-height: 180px;
      position: relative;
    }
    .slide {
      min-width: 100%;
      transition: transform 0.5s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .slide img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 14px;
    }
    .slider-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      z-index: 2;
    }
    .slider-btn {
      background: rgba(0,0,0,0.3);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 38px;
      height: 38px;
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    .slider-btn:hover {
      background: #0077cc;
    }
    .container {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 18px;
      justify-content: flex-start;
      align-items: stretch;
      margin-top: 0;
    }
    .company {
      background: #fff;
      padding: 18px 10px 14px 10px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,119,204,0.07);
      text-align: center;
      position: relative;
      min-height: 170px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: box-shadow 0.3s, transform 0.3s;
    }
    .company:hover {
      box-shadow: 0 6px 24px rgba(0,119,204,0.13);
      transform: translateY(-5px) scale(1.03);
    }
    .company h3 {
      font-size: 1.1rem;
      color: #0077cc;
      margin: 0 0 8px 0;
      font-weight: bold;
    }
    .add-company-text {
      color: #444;
      font-size: 1rem;
      margin-bottom: 10px;
    }
    .stars {
      color: #ccc;
      cursor: pointer;
      margin: 8px 0 0 0;
      font-size: 1.1rem;
    }
    .stars span.selected { color: gold; }
    .rating-count {
      font-size: 13px;
      color: #555;
      margin-top: 5px;
    }
    .view-details-btn {
      margin-top: 10px;
      background: #0077cc;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 8px 0;
      width: 100%;
      font-size: 0.98rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    .view-details-btn:hover {
      background: #005fa3;
    }
    .no-results {
      text-align: center;
      padding: 60px 0;
      color: #666;
      display: none;
      font-size: 1.2rem;
    }
    .back-btn {
      display: block;
      text-align: center;
      margin: 30px auto 0 auto;
      text-decoration: none;
      padding: 14px 32px;
      background: #0077cc;
      color: white;
      border-radius: 10px;
      width: fit-content;
      font-size: 1.1rem;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .back-btn:hover {
      background-color: #005fa3;
    }
    footer {
      background-color: #222;
      color: white;
      text-align: center;
      padding: 24px;
      margin-top: 40px;
      font-size: 1rem;
      border-radius: 0 0 12px 12px;
    }
    @media (max-width: 1100px) {
      .main-content {
        flex-direction: column;
        gap: 18px;
        padding: 18px 6px 0 6px;
      }
      .sidebar {
        width: 100%;
        min-width: unset;
        position: static;
        margin-bottom: 18px;
      }
      .content-area {
        width: 100%;
      }
      .container {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 10px;
      }
    }
    @media (max-width: 768px) {
      .main-content {
        flex-direction: column;
        gap: 10px;
        padding: 10px 2px 0 2px;
      }
      .sidebar {
        width: 100%;
        min-width: unset;
        position: static;
        margin-bottom: 10px;
        padding: 12px 8px;
      }
      .content-area {
        width: 100%;
      }
      .container {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }
      .company {
        min-height: 120px;
        padding: 8px 4px 8px 4px;
      }
    }
    @media (max-width: 480px) {
      .container {
        grid-template-columns: 1fr;
      }
      .company {
        min-height: 90px;
        padding: 6px 2px 6px 2px;
      }
      .back-btn {
        padding: 10px 12px;
        font-size: 1rem;
      }
    }
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll(".main-category").forEach(function(category) {
    category.addEventListener("click", function() {
      let sub = this.nextElementSibling;
      if (sub && sub.classList.contains("sub-categories")) {
        sub.style.display = sub.style.display === "block" ? "none" : "block";
      }
    });
  });
});
</script></head>
<body>
<div style="background:#fff; text-align:center; padding:18px 0 8px 0;">
<a href="index.html" style="font-size:2rem; font-weight:bold; color:#0077cc; text-decoration:none; letter-spacing:2px; font-family:sans-serif;">eymtax</a>
</div>
<header>
<h1><a href="index.html" style="color: white; text-decoration: none;">Eymta X</a></h1>
<p>Ù†Ø±ÙØ¹ Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯</p>
<a href="tel:+963938029294" style="display: inline-block; padding: 12px 24px; background-color: #0077cc; color: white; text-decoration: none; border-radius: 8px; font-size: 18px; margin: 20px 0;">â• Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ</a>
<input class="search" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø´Ø±ÙƒØ©..." type="text"/>
</header>
<div class="main-content">
    <aside class="sidebar">
        <ul class="category-list"><li class="main-category">Ù…Ø·Ø§Ø¹Ù… / ÙƒØ§ÙÙŠÙ‡Ø§Øª</li><ul class="sub-categories"><li>Ù…Ø·Ø§Ø¹Ù… Ø´Ø±Ù‚ÙŠØ©</li><li>Ù…Ø·Ø§Ø¹Ù… ØºØ±Ø¨ÙŠØ©</li><li>Ù…Ø´Ø§ÙˆÙŠ</li><li>Ù…Ø®Ø§Ø¨Ø²</li><li>Ø­Ù„ÙˆÙŠØ§Øª</li><li>ÙƒØ§ÙÙŠÙ‡Ø§Øª</li></ul><li class="main-category">Ø´Ø­Ù† / Ù†Ù‚Ù„</li><ul class="sub-categories"><li>Ø´Ø±ÙƒØ§Øª Ø´Ø­Ù† Ø¯Ø§Ø®Ù„ÙŠ</li><li>Ø´Ø±ÙƒØ§Øª Ø´Ø­Ù† Ø®Ø§Ø±Ø¬ÙŠ</li><li>Ù†Ù‚Ù„ Ø¨Ø¶Ø§Ø¦Ø¹</li><li>Ù†Ù‚Ù„ Ø±ÙƒØ§Ø¨</li></ul><li class="main-category">ØªØµÙˆÙŠØ± / ØªØ³ÙˆÙŠÙ‚</li><ul class="sub-categories"><li>ØªØµÙˆÙŠØ± Ù…Ù†ØªØ¬Ø§Øª</li><li>ØªØµÙˆÙŠØ± Ø£Ø¹Ø±Ø§Ø³</li><li>ØªØµÙˆÙŠØ± Ø¥Ø¹Ù„Ø§Ù†ÙŠ</li><li>ØªØµÙ…ÙŠÙ… Ø¬Ø±Ø§ÙÙŠÙƒ</li><li>Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰</li></ul><li class="main-category">ØªØµÙ†ÙŠØ¹ / ÙˆØ±Ø´Ø§Øª</li><ul class="sub-categories"><li>Ù†Ø¬Ø§Ø±Ø©</li><li>Ø­Ø¯Ø§Ø¯Ø©</li><li>Ø®ÙŠØ§Ø·Ø©</li><li>Ù…Ø·Ø§Ø¨Ø¹</li><li>ØµÙ†Ø§Ø¹Ø© ØºØ°Ø§Ø¦ÙŠØ©</li></ul><li class="main-category">ØªØ¬Ø§Ø±Ø© Ø¹Ø§Ù…Ø©</li><ul class="sub-categories"><li>Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</li><li>Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©</li><li>Ù…Ù„Ø§Ø¨Ø³</li><li>Ø¹Ù‚Ø§Ø±Ø§Øª</li></ul><li class="main-category">Ø®Ø¯Ù…Ø§Øª Ø·Ø¨ÙŠØ©</li><ul class="sub-categories"><li>Ø¹ÙŠØ§Ø¯Ø§Øª</li><li>Ù…Ø®Ø§Ø¨Ø±</li><li>ØµÙŠØ¯Ù„ÙŠØ§Øª</li><li>Ù…Ø±Ø§ÙƒØ² Ø¹Ù„Ø§Ø¬</li></ul><li class="main-category">ØªØ¹Ù„ÙŠÙ… / ØªØ¯Ø±ÙŠØ¨</li><ul class="sub-categories"><li>Ù…Ø¹Ø§Ù‡Ø¯ Ù„ØºØ§Øª</li><li>Ø¯ÙˆØ±Ø§Øª Ø¨Ø±Ù…Ø¬Ø©</li><li>ÙƒÙˆØ±Ø³Ø§Øª ØªØµÙˆÙŠØ±</li><li>Ù…Ø¯Ø§Ø±Ø³ Ø®Ø§ØµØ©</li></ul><li class="main-category">ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ / Ø¨Ø±Ù…Ø¬Ø©</li><ul class="sub-categories"><li>Ø´Ø±ÙƒØ§Øª Ø¨Ø±Ù…Ø¬Ø©</li><li>ØªØµÙ…ÙŠÙ… Ù…ÙˆØ§Ù‚Ø¹</li><li>ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…ÙˆØ¨Ø§ÙŠÙ„</li><li>Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</li></ul><li class="main-category">Ø£Ø¹Ù…Ø§Ù„ ÙŠØ¯ÙˆÙŠØ©</li><ul class="sub-categories"><li>ØµÙ†Ø§Ø¹Ø© ØµØ§Ø¨ÙˆÙ†</li><li>ØªØ·Ø±ÙŠØ²</li><li>Ø­ÙŠØ§ÙƒØ©</li><li>Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª ÙŠØ¯ÙˆÙŠØ©</li></ul></ul>
    </aside>
    <div class="content-area">
        <div class="filter-bar">
            <div class="filter-group">
                <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</label>
                <select id="cityFilter">
                    <option value="">Ø§Ù„ÙƒÙ„</option>
                    <option value="Ø­Ù…Ø§Ø©">Ø­Ù…Ø§Ø©</option>
                    <option value="Ø¯Ù…Ø´Ù‚">Ø¯Ù…Ø´Ù‚</option>
                    <option value="Ø­Ù„Ø¨">Ø­Ù„Ø¨</option>
                    <option value="Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©">Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</label>
                <select id="ratingFilter">
                    <option value="">Ø§Ù„ÙƒÙ„</option>
                    <option value="5">5 Ù†Ø¬ÙˆÙ…</option>
                    <option value="4">4 Ù†Ø¬ÙˆÙ… ÙˆØ£Ø¹Ù„Ù‰</option>
                    <option value="3">3 Ù†Ø¬ÙˆÙ… ÙˆØ£Ø¹Ù„Ù‰</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Ø§Ù„ØªØ±ØªÙŠØ¨:</label>
                <select id="sortFilter">
                    <option value="name">Ø§Ù„Ø§Ø³Ù…</option>
                    <option value="rating">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</option>
                    <option value="reviews">Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</option>
                </select>
            </div>
        </div>
        <div class="slider-container">
            <div class="slider" id="adSlider">
                <div class="slide"><img src="img/Ø§Ø¹Ù„Ø§Ù†-1.png" alt="Ø§Ø¹Ù„Ø§Ù† 1"></div>
                <div class="slide"><img src="img/Ø§Ø¹Ù„Ø§Ù†-2.png" alt="Ø§Ø¹Ù„Ø§Ù† 2"></div>
                <div class="slide"><img src="img/Ø§Ø¹Ù„Ø§Ù†-3.png" alt="Ø§Ø¹Ù„Ø§Ù† 3"></div>
            </div>
            <div class="slider-nav">
                <button class="slider-btn" id="prevSlide">&#8592;</button>
                <button class="slider-btn" id="nextSlide">&#8594;</button>
            </div>
        </div>
        <div class="container" id="companyContainer">
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
            <div class="company">
                <div class="add-company-text">Ø£Ø¶Ù Ø´Ø±ÙƒØªÙƒ Ù‡Ù†Ø§</div>
                <div class="stars"></div>
                <div class="rating-count">0 ØªÙ‚ÙŠÙŠÙ…</div>
                <button class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            </div>
        </div>
    </div>
</div>
<div class="loading-spinner">
    <i class="fas fa-spinner"></i>
</div>
<div class="no-results">
    <i class="fas fa-search" style="font-size: 48px; color: #ccc; margin-bottom: 20px;"></i>
    <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</h3>
    <p>Ø¬Ø±Ø¨ ØªØºÙŠÙŠØ± Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«</p>
</div>
<div class="company-details" id="companyDetails">
    <div class="company-details-content">
        <button class="close-details" onclick="closeDetails()">Ã—</button>
        <div id="detailsContent"></div>
    </div>
</div>
<a class="back-btn" href="index.html">ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
<footer>
<p>Eymta X â€“ Ù†Ø±ÙØ¹ Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯</p>
</footer>
<script>
const companies = document.querySelectorAll(".company");
const mainCategories = document.querySelectorAll(".main-category");

// Toggle sub-categories
mainCategories.forEach(category => {
  category.addEventListener("click", () => {
    category.classList.toggle("active");
  });
});

// Filter companies by category
function filter(category) {
  companies.forEach(card => {
    const match = category === 'all' || card.dataset.category === category;
    card.style.display = match ? 'block' : 'none';
  });
}

// Search functionality
document.getElementById("searchInput").addEventListener("input", function () {
  const q = this.value.toLowerCase();
  companies.forEach(c => {
    const name = c.dataset.name.toLowerCase();
    c.style.display = name.includes(q) ? 'block' : 'none';
  });
});

// Star rating system
function createStars(container, name) {
  const saved = localStorage.getItem('rate_' + name);
  const countKey = 'count_' + name;
  const count = localStorage.getItem(countKey) || 0;
  const wrap = container;
  for (let i = 1; i <= 5; i++) {
    const s = document.createElement("span");
    s.textContent = "â˜…";
    s.classList.add("star");
    if (saved && i <= saved) s.classList.add("selected");
    s.onclick = () => {
      if (!saved) {
        localStorage.setItem('rate_' + name, i);
        localStorage.setItem(countKey, +count + 1);
        document.getElementById('count-' + name).textContent = (+count + 1) + " ØªÙ‚ÙŠÙŠÙ…";
        [...wrap.children].forEach((star, idx) => {
          star.classList.toggle("selected", idx < i);
        });
        alert("Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ!");
      } else {
        alert("Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø³Ø§Ø¨Ù‚Ø§Ù‹.");
      }
    };
    wrap.appendChild(s);
  }
  document.getElementById('count-' + name).textContent = count + " ØªÙ‚ÙŠÙŠÙ…";
}

document.querySelectorAll('.stars').forEach(div => {
  const name = div.dataset.name;
  createStars(div, name);
});

// Show first category's sub-categories by default
document.querySelector(".main-category").classList.add("active");

// Enhanced company data structure
const companyData = {
    "Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©": {
        name: "Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©",
        category: "Ø·Ø¨Ø§Ø¹Ø©",
        city: "Ø­Ù…Ø§Ø©",
        phone: "0999999999",
        description: "Ù…ØªØ®ØµØµØ© ÙÙŠ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨Ø±ÙˆØ´ÙˆØ±Ø§Øª ÙˆØ§Ù„ÙÙ„Ø§ÙŠØ±Ø§Øª ÙˆØ¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„.",
        images: [
            "https://via.placeholder.com/800x600?text=Ù†ÙˆØ±+Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©+1",
            "https://via.placeholder.com/800x600?text=Ù†ÙˆØ±+Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©+2",
            "https://via.placeholder.com/800x600?text=Ù†ÙˆØ±+Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©+3"
        ],
        location: {
            lat: 35.1376,
            lng: 36.7584
        },
        hours: {
            "Ø§Ù„Ø£Ø­Ø¯": "9:00 - 18:00",
            "Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†": "9:00 - 18:00",
            "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡": "9:00 - 18:00",
            "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡": "9:00 - 18:00",
            "Ø§Ù„Ø®Ù…ÙŠØ³": "9:00 - 18:00",
            "Ø§Ù„Ø¬Ù…Ø¹Ø©": "10:00 - 16:00",
            "Ø§Ù„Ø³Ø¨Øª": "Ù…ØºÙ„Ù‚"
        },
        website: "https://example.com",
        social: {
            facebook: "https://facebook.com/example",
            instagram: "https://instagram.com/example"
        },
        isVip: true
    }
    // Add more companies here
};

// Enhanced filtering and sorting
function filterCompanies() {
    const searchQuery = document.getElementById('searchInput').value.toLowerCase();
    const cityFilter = document.getElementById('cityFilter').value;
    const ratingFilter = document.getElementById('ratingFilter').value;
    const sortFilter = document.getElementById('sortFilter').value;

    let filteredCompanies = Object.values(companyData).filter(company => {
        const matchesSearch = company.name.toLowerCase().includes(searchQuery) ||
                            company.description.toLowerCase().includes(searchQuery);
        const matchesCity = !cityFilter || company.city === cityFilter;
        const matchesRating = !ratingFilter || getCompanyRating(company.name) >= parseInt(ratingFilter);
        return matchesSearch && matchesCity && matchesRating;
    });

    // Sort companies
    filteredCompanies.sort((a, b) => {
        switch(sortFilter) {
            case 'name':
                return a.name.localeCompare(b.name);
            case 'rating':
                return getCompanyRating(b.name) - getCompanyRating(a.name);
            case 'reviews':
                return getCompanyReviewCount(b.name) - getCompanyReviewCount(a.name);
            default:
                return 0;
        }
    });

    displayCompanies(filteredCompanies);
}

// Enhanced company display
function displayCompanies(companies) {
    const container = document.getElementById('companyContainer');
    container.innerHTML = '';

    if (companies.length === 0) {
        document.querySelector('.no-results').style.display = 'block';
        return;
    }

    document.querySelector('.no-results').style.display = 'none';

    companies.forEach(company => {
        const card = createCompanyCard(company);
        container.appendChild(card);
    });
}

// Enhanced company card creation
function createCompanyCard(company) {
    const card = document.createElement('div');
    card.className = `company ${company.isVip ? 'vip' : ''}`;
    card.dataset.name = company.name;
    card.dataset.category = company.category;

    card.innerHTML = `
        <img src="${company.images[0]}" alt="${company.name}"/>
        <h3>${company.name}</h3>
        <p>${company.description}</p>
        <div class="company-stats">
            <div class="stat-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>${company.city}</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-phone"></i>
                <span>${company.phone}</span>
            </div>
        </div>
        <div class="stars" data-name="${company.name}"></div>
        <div class="rating-count" id="count-${company.name}">0 ØªÙ‚ÙŠÙŠÙ…</div>
        <button onclick="showDetails('${company.name}')" class="view-details-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
    `;

    return card;
}

// Company details view
function showDetails(companyName) {
    const company = companyData[companyName];
    const detailsContent = document.getElementById('detailsContent');
    
    detailsContent.innerHTML = `
        <h2>${company.name}</h2>
        <div class="company-gallery">
            ${company.images.map(img => `<img src="${img}" alt="${company.name}"/>`).join('')}
        </div>
        <div class="company-info-grid">
            <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <span>${company.city}</span>
            </div>
            <div class="info-item">
                <i class="fas fa-phone"></i>
                <span>${company.phone}</span>
            </div>
            <div class="info-item">
                <i class="fas fa-globe"></i>
                <a href="${company.website}" target="_blank">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
            </div>
        </div>
        <div class="map-preview">
            <iframe
                width="100%"
                height="100%"
                frameborder="0"
                style="border:0"
                src="https://www.google.com/maps/embed/v1/place?key=YOUR_API_KEY&q=${company.location.lat},${company.location.lng}"
                allowfullscreen>
            </iframe>
        </div>
        <div class="company-hours">
            ${Object.entries(company.hours).map(([day, hours]) => `
                <div class="hour-item ${isToday(day) ? 'active' : ''}">
                    <strong>${day}</strong>
                    <div>${hours}</div>
                </div>
            `).join('')}
        </div>
        <div class="share-buttons">
            <button class="share-button facebook" onclick="shareOnFacebook('${company.name}')">
                <i class="fab fa-facebook-f"></i>
                Ù…Ø´Ø§Ø±ÙƒØ©
            </button>
            <button class="share-button twitter" onclick="shareOnTwitter('${company.name}')">
                <i class="fab fa-twitter"></i>
                ØªØºØ±ÙŠØ¯
            </button>
            <button class="share-button whatsapp" onclick="shareOnWhatsApp('${company.name}')">
                <i class="fab fa-whatsapp"></i>
                ÙˆØ§ØªØ³Ø§Ø¨
            </button>
        </div>
        <div class="comments-section">
            <h3>Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</h3>
            <div id="comments-${company.name}"></div>
            <form onsubmit="addComment(event, '${company.name}')">
                <textarea placeholder="Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§..." required></textarea>
                <button type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
            </form>
        </div>
    `;

    document.getElementById('companyDetails').style.display = 'block';
    loadComments(companyName);
}

function closeDetails() {
    document.getElementById('companyDetails').style.display = 'none';
}

// Helper functions
function isToday(day) {
    const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
    return days[new Date().getDay()] === day;
}

function getCompanyRating(name) {
    return parseInt(localStorage.getItem('rate_' + name)) || 0;
}

function getCompanyReviewCount(name) {
    return parseInt(localStorage.getItem('count_' + name)) || 0;
}

// Social sharing functions
function shareOnFacebook(companyName) {
    const url = encodeURIComponent(window.location.href);
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`);
}

function shareOnTwitter(companyName) {
    const text = encodeURIComponent(`ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ${companyName} ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø³ÙˆØ±ÙŠØ©`);
    const url = encodeURIComponent(window.location.href);
    window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`);
}

function shareOnWhatsApp(companyName) {
    const text = encodeURIComponent(`ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ${companyName} ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø³ÙˆØ±ÙŠØ©`);
    window.open(`https://wa.me/?text=${text}`);
}

// Comments system
function loadComments(companyName) {
    const comments = JSON.parse(localStorage.getItem('comments_' + companyName)) || [];
    const commentsContainer = document.getElementById('comments-' + companyName);
    
    commentsContainer.innerHTML = comments.map(comment => `
        <div class="comment">
            <div class="comment-header">
                <span>${comment.author}</span>
                <span>${new Date(comment.date).toLocaleDateString('ar-SA')}</span>
            </div>
            <div class="comment-content">${comment.text}</div>
        </div>
    `).join('');
}

function addComment(event, companyName) {
    event.preventDefault();
    const form = event.target;
    const text = form.querySelector('textarea').value;
    
    const comments = JSON.parse(localStorage.getItem('comments_' + companyName)) || [];
    comments.push({
        author: 'Ø²Ø§Ø¦Ø±',
        text: text,
        date: new Date().toISOString()
    });
    
    localStorage.setItem('comments_' + companyName, JSON.stringify(comments));
    loadComments(companyName);
    form.reset();
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    filterCompanies();
    
    // Add event listeners for filters
    document.getElementById('cityFilter').addEventListener('change', filterCompanies);
    document.getElementById('ratingFilter').addEventListener('change', filterCompanies);
    document.getElementById('sortFilter').addEventListener('change', filterCompanies);
    document.getElementById('searchInput').addEventListener('input', filterCompanies);
});

// Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
const slides = document.querySelectorAll('.slide');
let currentSlide = 0;
function showSlide(idx) {
    slides.forEach((slide, i) => {
        slide.style.transform = `translateX(${(i-idx)*100}%)`;
    });
}
document.getElementById('prevSlide').onclick = () => {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    showSlide(currentSlide);
};
document.getElementById('nextSlide').onclick = () => {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
};
showSlide(currentSlide);
</script>
</body>
</html>
