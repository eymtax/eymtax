<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>لوحة التحكم - Eymta X</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .header {
            background: #0077cc;
            color: white;
            padding: 1rem;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .login-form {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .dashboard {
            display: none;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        button {
            background: #0077cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }

        button:hover {
            background: #005fa3;
        }

        .companies-list {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .company-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .actions {
            display: flex;
            gap: 10px;
        }

        .edit-btn, .delete-btn {
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .edit-btn {
            background: #28a745;
            color: white;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
        }

        .add-company-form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .nav-tab {
            padding: 10px 20px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }

        .nav-tab.active {
            background: #0077cc;
            color: white;
            border-color: #0077cc;
        }

        .sidebar {
            width: 250px;
            background: #2c3e50;
            color: white;
            position: fixed;
            height: 100vh;
            padding: 20px 0;
            overflow-y: auto;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li {
            padding: 10px 20px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .sidebar-menu li:hover {
            background: #34495e;
        }

        .sidebar-menu li.active {
            background: #3498db;
        }

        .main-content {
            margin-right: 250px;
            padding: 20px;
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-card h3 {
            margin: 0;
            color: #666;
        }

        .stat-card .number {
            font-size: 2em;
            color: #0077cc;
            margin: 10px 0;
        }

        .settings-form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .users-list {
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        .user-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .service-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .service-card img {
            max-width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 15px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .feature-item img {
            width: 50px;
            height: 50px;
            margin-left: 15px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div style="text-align: center; padding: 20px;">
            <h2>Eymta X</h2>
            <p>لوحة التحكم</p>
        </div>
        <ul class="sidebar-menu">
            <li class="active" onclick="showSection('dashboard')">الرئيسية</li>
            <li onclick="showSection('services')">إدارة الخدمات</li>
            <li onclick="showSection('companies')">دليل الشركات</li>
            <li onclick="showSection('blog')">المدونة</li>
            <li onclick="showSection('about')">من نحن</li>
            <li onclick="showSection('contact')">اتصل بنا</li>
            <li onclick="showSection('settings')">الإعدادات</li>
            <li onclick="logout()">تسجيل الخروج</li>
        </ul>
    </div>

    <div class="main-content">
        <!-- قسم الرئيسية -->
        <div id="dashboard" class="section">
            <h2>لوحة المعلومات</h2>
            <div class="dashboard-stats">
                <div class="stat-card">
                    <h3>إجمالي الخدمات</h3>
                    <div class="number" id="totalServices">0</div>
                </div>
                <div class="stat-card">
                    <h3>الشركات المسجلة</h3>
                    <div class="number" id="totalCompanies">0</div>
                </div>
                <div class="stat-card">
                    <h3>مقالات المدونة</h3>
                    <div class="number" id="totalPosts">0</div>
                </div>
                <div class="stat-card">
                    <h3>رسائل التواصل</h3>
                    <div class="number" id="totalMessages">0</div>
                </div>
            </div>
        </div>

        <!-- قسم إدارة الخدمات -->
        <div id="services" class="section" style="display: none;">
            <h2>إدارة الخدمات</h2>
            <div class="add-company-form">
                <h3>إضافة خدمة جديدة</h3>
                <div class="form-group">
                    <label for="serviceTitle">عنوان الخدمة</label>
                    <input type="text" id="serviceTitle" required>
                </div>
                <div class="form-group">
                    <label for="serviceDescription">وصف الخدمة</label>
                    <textarea id="serviceDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label for="serviceImage">صورة الخدمة</label>
                    <input type="file" id="serviceImage" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label for="serviceCategory">تصنيف الخدمة</label>
                    <select id="serviceCategory" required>
                        <option value="marketing">التسويق الإلكتروني</option>
                        <option value="product-photography">تصوير المنتجات</option>
                        <option value="wedding-photography">تصوير الأعراس</option>
                        <option value="printing">خدمات الطباعة</option>
                    </select>
                </div>
                <button onclick="addService()">إضافة الخدمة</button>
            </div>
            <div class="companies-list">
                <h3>قائمة الخدمات</h3>
                <div id="servicesList">
                    <!-- سيتم إضافة الخدمات ديناميكياً -->
                </div>
            </div>
        </div>

        <!-- قسم دليل الشركات -->
        <div id="companies" class="section" style="display: none;">
            <div class="add-company-form">
                <h2>إضافة شركة جديدة</h2>
                <div class="form-group">
                    <label for="companyName">اسم الشركة</label>
                    <input type="text" id="companyName" required>
                </div>
                <div class="form-group">
                    <label for="companyCategory">التصنيف</label>
                    <select id="companyCategory" required>
                        <option value="">اختر التصنيف</option>
                        <!-- سيتم إضافة التصنيفات ديناميكياً -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="companyImage">رابط الصورة</label>
                    <input type="url" id="companyImage" required>
                </div>
                <div class="form-group">
                    <label for="companyDescription">وصف الشركة</label>
                    <textarea id="companyDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label for="companyPhone">رقم الهاتف</label>
                    <input type="tel" id="companyPhone" required>
                </div>
                <div class="form-group">
                    <label for="companyLocation">الموقع</label>
                    <input type="text" id="companyLocation" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isVip">
                        شركة مميزة
                    </label>
                </div>
                <button onclick="addCompany()">إضافة الشركة</button>
            </div>

            <div class="companies-list">
                <h2>قائمة الشركات</h2>
                <div id="companiesList">
                    <!-- سيتم إضافة الشركات ديناميكياً -->
                </div>
            </div>
        </div>

        <!-- قسم المدونة -->
        <div id="blog" class="section" style="display: none;">
            <h2>إدارة المدونة</h2>
            <div class="add-company-form">
                <h3>إضافة مقال جديد</h3>
                <div class="form-group">
                    <label for="postTitle">عنوان المقال</label>
                    <input type="text" id="postTitle" required>
                </div>
                <div class="form-group">
                    <label for="postContent">محتوى المقال</label>
                    <textarea id="postContent" required></textarea>
                </div>
                <div class="form-group">
                    <label for="postImage">صورة المقال</label>
                    <input type="file" id="postImage" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label for="postCategory">تصنيف المقال</label>
                    <select id="postCategory" required>
                        <option value="marketing">التسويق</option>
                        <option value="photography">التصوير</option>
                        <option value="printing">الطباعة</option>
                        <option value="business">الأعمال</option>
                    </select>
                </div>
                <button onclick="addPost()">نشر المقال</button>
            </div>
            <div class="companies-list">
                <h3>المقالات المنشورة</h3>
                <div id="postsList">
                    <!-- سيتم إضافة المقالات ديناميكياً -->
                </div>
            </div>
        </div>

        <!-- قسم من نحن -->
        <div id="about" class="section" style="display: none;">
            <h2>إدارة صفحة من نحن</h2>
            <div class="settings-form">
                <h3>معلومات الشركة</h3>
                <div class="form-group">
                    <label for="aboutTitle">العنوان الرئيسي</label>
                    <input type="text" id="aboutTitle" value="مرحباً بكم في Eymtax">
                </div>
                <div class="form-group">
                    <label for="aboutDescription">الوصف</label>
                    <textarea id="aboutDescription">نحن في Eymtax نساعدك على التميز من خلال التسويق الرقمي، التصوير الاحترافي، والتصميم الإعلاني – كل ما تحتاجه لتقوية حضورك ونجاحك</textarea>
                </div>
                <h3>مميزاتنا</h3>
                <div id="featuresList">
                    <div class="feature-item">
                        <img src="experience.png" alt="خبرة طويلة">
                        <div>
                            <h4>خبرة طويلة</h4>
                            <p>سنوات من الخبرة في تقديم خدمات عالية الجودة</p>
                        </div>
                    </div>
                    <!-- يمكن إضافة المزيد من المميزات -->
                </div>
                <button onclick="saveAboutSettings()">حفظ التغييرات</button>
            </div>
        </div>

        <!-- قسم اتصل بنا -->
        <div id="contact" class="section" style="display: none;">
            <h2>إدارة صفحة اتصل بنا</h2>
            <div class="settings-form">
                <h3>معلومات التواصل</h3>
                <div class="form-group">
                    <label for="contactEmail">البريد الإلكتروني</label>
                    <input type="email" id="contactEmail">
                </div>
                <div class="form-group">
                    <label for="contactPhone">رقم الهاتف</label>
                    <input type="tel" id="contactPhone">
                </div>
                <div class="form-group">
                    <label for="contactAddress">العنوان</label>
                    <input type="text" id="contactAddress">
                </div>
                <button onclick="saveContactSettings()">حفظ التغييرات</button>
            </div>
            <div class="companies-list">
                <h3>رسائل التواصل</h3>
                <div id="messagesList">
                    <!-- سيتم إضافة الرسائل ديناميكياً -->
                </div>
            </div>
        </div>

        <!-- قسم الإعدادات -->
        <div id="settings" class="section" style="display: none;">
            <h2>إعدادات الموقع</h2>
            <div class="settings-form">
                <h3>الإعدادات العامة</h3>
                <div class="form-group">
                    <label for="siteName">اسم الموقع</label>
                    <input type="text" id="siteName" value="Eymta X">
                </div>
                <div class="form-group">
                    <label for="siteSlogan">شعار الموقع</label>
                    <input type="text" id="siteSlogan" value="نرفع أعمالك إلى مستوى جديد">
                </div>
                <div class="form-group">
                    <label for="siteLogo">شعار الموقع</label>
                    <input type="file" id="siteLogo" accept="image/*">
                </div>
                <div class="form-group">
                    <label for="siteFavicon">أيقونة الموقع</label>
                    <input type="file" id="siteFavicon" accept="image/*">
                </div>
                <button onclick="saveSettings()">حفظ الإعدادات</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // بيانات المستخدم (في الواقع يجب أن تكون في قاعدة بيانات)
        const ADMIN_USERNAME = 'admin';
        const ADMIN_PASSWORD = 'admin123';

        // تسجيل الدخول
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
                loadCompanies();
                loadCategories();
                loadUsers();
                updateStats();
                initCharts();
            } else {
                alert('بيانات الدخول غير صحيحة');
            }
        }

        // إظهار القسم المحدد
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
            
            document.querySelectorAll('.sidebar-menu li').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // إضافة شركة جديدة
        function addCompany() {
            const company = {
                name: document.getElementById('companyName').value,
                category: document.getElementById('companyCategory').value,
                image: document.getElementById('companyImage').value,
                description: document.getElementById('companyDescription').value,
                phone: document.getElementById('companyPhone').value,
                location: document.getElementById('companyLocation').value,
                isVip: document.getElementById('isVip').checked
            };

            // حفظ الشركة في localStorage
            const companies = JSON.parse(localStorage.getItem('companies') || '[]');
            companies.push(company);
            localStorage.setItem('companies', JSON.stringify(companies));

            // تحديث القائمة
            loadCompanies();
            
            // إعادة تعيين النموذج
            document.querySelector('.add-company-form').reset();
        }

        // تحميل الشركات
        function loadCompanies() {
            const companies = JSON.parse(localStorage.getItem('companies') || '[]');
            const companiesList = document.getElementById('companiesList');
            companiesList.innerHTML = '';

            companies.forEach((company, index) => {
                const companyElement = document.createElement('div');
                companyElement.className = 'company-item';
                companyElement.innerHTML = `
                    <div>
                        <h3>${company.name}</h3>
                        <p>${company.description}</p>
                    </div>
                    <div class="actions">
                        <button class="edit-btn" onclick="editCompany(${index})">تعديل</button>
                        <button class="delete-btn" onclick="deleteCompany(${index})">حذف</button>
                    </div>
                `;
                companiesList.appendChild(companyElement);
            });
        }

        // حذف شركة
        function deleteCompany(index) {
            if (confirm('هل أنت متأكد من حذف هذه الشركة؟')) {
                const companies = JSON.parse(localStorage.getItem('companies') || '[]');
                companies.splice(index, 1);
                localStorage.setItem('companies', JSON.stringify(companies));
                loadCompanies();
            }
        }

        // تحميل التصنيفات
        function loadCategories() {
            // التصنيفات الافتراضية
            const defaultCategories = [
                { name: 'التسويق الإلكتروني', id: 'marketing' },
                { name: 'تصوير المنتجات', id: 'product-photography' },
                { name: 'تصوير الأعراس', id: 'wedding-photography' },
                { name: 'خدمات الطباعة', id: 'printing' },
                { name: 'تصميم المواقع', id: 'web-design' },
                { name: 'تصميم الهوية البصرية', id: 'branding' },
                { name: 'إدارة وسائل التواصل الاجتماعي', id: 'social-media' },
                { name: 'تصميم الإعلانات', id: 'advertising' },
                { name: 'تصوير الفيديو', id: 'video-production' },
                { name: 'تطوير تطبيقات الموبايل', id: 'mobile-apps' }
            ];

            // تحميل التصنيفات المخصصة من localStorage إذا وجدت
            let categories = JSON.parse(localStorage.getItem('categories') || '[]');
            
            // إذا لم تكن هناك تصنيفات مخصصة، استخدم التصنيفات الافتراضية
            if (categories.length === 0) {
                categories = defaultCategories;
                localStorage.setItem('categories', JSON.stringify(categories));
            }

            const categoriesList = document.getElementById('categoriesList');
            const categorySelect = document.getElementById('companyCategory');
            const parentCategorySelect = document.getElementById('parentCategory');

            // تحديث قائمة التصنيفات
            categoriesList.innerHTML = '';
            categorySelect.innerHTML = '<option value="">اختر التصنيف</option>';
            parentCategorySelect.innerHTML = '<option value="">بدون تصنيف أب</option>';

            categories.forEach((category, index) => {
                // إضافة للقائمة الرئيسية
                const categoryElement = document.createElement('div');
                categoryElement.className = 'company-item';
                categoryElement.innerHTML = `
                    <div>
                        <h3>${category.name}</h3>
                        <p>ID: ${category.id}</p>
                    </div>
                    <div class="actions">
                        <button class="edit-btn" onclick="editCategory(${index})">تعديل</button>
                        <button class="delete-btn" onclick="deleteCategory(${index})">حذف</button>
                    </div>
                `;
                categoriesList.appendChild(categoryElement);

                // إضافة للقوائم المنسدلة
                const option = new Option(category.name, category.id);
                categorySelect.add(option);
                parentCategorySelect.add(new Option(category.name, category.id));
            });
        }

        // إضافة تصنيف جديد
        function addCategory() {
            const categoryName = document.getElementById('categoryName').value;
            const parentCategory = document.getElementById('parentCategory').value;
            
            // إنشاء معرف فريد للتصنيف
            const categoryId = categoryName.toLowerCase().replace(/\s+/g, '-');
            
            const category = {
                name: categoryName,
                id: categoryId,
                parent: parentCategory || null
            };

            const categories = JSON.parse(localStorage.getItem('categories') || '[]');
            categories.push(category);
            localStorage.setItem('categories', JSON.stringify(categories));

            loadCategories();
            document.querySelector('#categories .add-company-form').reset();
        }

        // تعديل تصنيف
        function editCategory(index) {
            const categories = JSON.parse(localStorage.getItem('categories') || '[]');
            const category = categories[index];
            
            const newName = prompt('أدخل الاسم الجديد للتصنيف:', category.name);
            if (newName) {
                category.name = newName;
                category.id = newName.toLowerCase().replace(/\s+/g, '-');
                localStorage.setItem('categories', JSON.stringify(categories));
                loadCategories();
            }
        }

        // حذف تصنيف
        function deleteCategory(index) {
            if (confirm('هل أنت متأكد من حذف هذا التصنيف؟')) {
                const categories = JSON.parse(localStorage.getItem('categories') || '[]');
                categories.splice(index, 1);
                localStorage.setItem('categories', JSON.stringify(categories));
                loadCategories();
            }
        }

        // إضافة مستخدم جديد
        function addUser() {
            const user = {
                username: document.getElementById('newUsername').value,
                password: document.getElementById('newPassword').value,
                role: document.getElementById('userRole').value
            };

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));

            loadUsers();
            document.querySelector('#users .add-company-form').reset();
        }

        // تحميل المستخدمين
        function loadUsers() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const usersList = document.getElementById('usersList');
            usersList.innerHTML = '';

            users.forEach((user, index) => {
                const userElement = document.createElement('div');
                userElement.className = 'user-item';
                userElement.innerHTML = `
                    <div>
                        <h4>${user.username}</h4>
                        <p>الصلاحية: ${user.role}</p>
                    </div>
                    <div class="actions">
                        <button class="edit-btn" onclick="editUser(${index})">تعديل</button>
                        <button class="delete-btn" onclick="deleteUser(${index})">حذف</button>
                    </div>
                `;
                usersList.appendChild(userElement);
            });
        }

        // حفظ إعدادات الصفحة الرئيسية
        function saveHomepageSettings() {
            const settings = {
                mainTitle: document.getElementById('mainTitle').value,
                mainSubtitle: document.getElementById('mainSubtitle').value
            };
            localStorage.setItem('homepageSettings', JSON.stringify(settings));
            alert('تم حفظ الإعدادات بنجاح');
        }

        // حفظ الإعدادات العامة
        function saveSettings() {
            const settings = {
                siteName: document.getElementById('siteName').value,
                siteSlogan: document.getElementById('siteSlogan').value,
                siteLogo: document.getElementById('siteLogo').value,
                siteFavicon: document.getElementById('siteFavicon').value
            };
            localStorage.setItem('siteSettings', JSON.stringify(settings));
            alert('تم حفظ الإعدادات بنجاح');
        }

        // تحديث الإحصائيات
        function updateStats() {
            const services = JSON.parse(localStorage.getItem('services') || '[]');
            const companies = JSON.parse(localStorage.getItem('companies') || '[]');
            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');

            document.getElementById('totalServices').textContent = services.length;
            document.getElementById('totalCompanies').textContent = companies.length;
            document.getElementById('totalPosts').textContent = posts.length;
            document.getElementById('totalMessages').textContent = messages.length;
        }

        // تهيئة الرسوم البيانية
        function initCharts() {
            // رسم بياني للزيارات
            const visitsCtx = document.getElementById('visitsChart').getContext('2d');
            new Chart(visitsCtx, {
                type: 'line',
                data: {
                    labels: ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو'],
                    datasets: [{
                        label: 'الزيارات',
                        data: [65, 59, 80, 81, 56, 55],
                        borderColor: '#0077cc',
                        tension: 0.1
                    }]
                }
            });

            // رسم بياني للشركات حسب التصنيف
            const companiesCtx = document.getElementById('companiesChart').getContext('2d');
            new Chart(companiesCtx, {
                type: 'pie',
                data: {
                    labels: ['تصنيف 1', 'تصنيف 2', 'تصنيف 3'],
                    datasets: [{
                        data: [30, 50, 20],
                        backgroundColor: ['#0077cc', '#28a745', '#dc3545']
                    }]
                }
            });
        }

        // تسجيل الخروج
        function logout() {
            if (confirm('هل أنت متأكد من تسجيل الخروج؟')) {
                document.getElementById('loginForm').style.display = 'block';
                document.getElementById('dashboard').style.display = 'none';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }
        }

        // إضافة خدمة جديدة
        function addService() {
            const service = {
                title: document.getElementById('serviceTitle').value,
                description: document.getElementById('serviceDescription').value,
                category: document.getElementById('serviceCategory').value,
                image: document.getElementById('serviceImage').value
            };

            const services = JSON.parse(localStorage.getItem('services') || '[]');
            services.push(service);
            localStorage.setItem('services', JSON.stringify(services));

            loadServices();
            document.querySelector('#services .add-company-form').reset();
        }

        // تحميل الخدمات
        function loadServices() {
            const services = JSON.parse(localStorage.getItem('services') || '[]');
            const servicesList = document.getElementById('servicesList');
            servicesList.innerHTML = '';

            services.forEach((service, index) => {
                const serviceElement = document.createElement('div');
                serviceElement.className = 'service-card';
                serviceElement.innerHTML = `
                    <img src="${service.image}" alt="${service.title}">
                    <h3>${service.title}</h3>
                    <p>${service.description}</p>
                    <div class="actions">
                        <button class="edit-btn" onclick="editService(${index})">تعديل</button>
                        <button class="delete-btn" onclick="deleteService(${index})">حذف</button>
                    </div>
                `;
                servicesList.appendChild(serviceElement);
            });
        }

        // إضافة مقال جديد
        function addPost() {
            const post = {
                title: document.getElementById('postTitle').value,
                content: document.getElementById('postContent').value,
                category: document.getElementById('postCategory').value,
                image: document.getElementById('postImage').value,
                date: new Date().toISOString()
            };

            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            posts.push(post);
            localStorage.setItem('posts', JSON.stringify(posts));

            loadPosts();
            document.querySelector('#blog .add-company-form').reset();
        }

        // تحميل المقالات
        function loadPosts() {
            const posts = JSON.parse(localStorage.getItem('posts') || '[]');
            const postsList = document.getElementById('postsList');
            postsList.innerHTML = '';

            posts.forEach((post, index) => {
                const postElement = document.createElement('div');
                postElement.className = 'company-item';
                postElement.innerHTML = `
                    <div>
                        <h3>${post.title}</h3>
                        <p>${post.content.substring(0, 100)}...</p>
                        <small>${new Date(post.date).toLocaleDateString('ar-SA')}</small>
                    </div>
                    <div class="actions">
                        <button class="edit-btn" onclick="editPost(${index})">تعديل</button>
                        <button class="delete-btn" onclick="deletePost(${index})">حذف</button>
                    </div>
                `;
                postsList.appendChild(postElement);
            });
        }

        // حفظ إعدادات صفحة من نحن
        function saveAboutSettings() {
            const settings = {
                title: document.getElementById('aboutTitle').value,
                description: document.getElementById('aboutDescription').value
            };
            localStorage.setItem('aboutSettings', JSON.stringify(settings));
            alert('تم حفظ الإعدادات بنجاح');
        }

        // حفظ إعدادات صفحة اتصل بنا
        function saveContactSettings() {
            const settings = {
                email: document.getElementById('contactEmail').value,
                phone: document.getElementById('contactPhone').value,
                address: document.getElementById('contactAddress').value
            };
            localStorage.setItem('contactSettings', JSON.stringify(settings));
            alert('تم حفظ الإعدادات بنجاح');
        }
    </script>
</body>
</html> 